<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title>Egret</title>
    <meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="full-screen" content="true" />
    <meta name="screen-orientation" content="portrait" />
    <meta name="x5-fullscreen" content="true" />
    <meta name="360-fullscreen" content="true" />

    <style>
        html, body {
            -ms-touch-action: none;
            background: #ffffff;
            padding: 0;
            border: 0;
            margin: 0;
            height: 100%;
            width:100%;
            overflow:hidden;
        }
    </style>
    <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>

<body>
    <div style="margin: auto;width: 100%;height: 100%;" class="egret-player"
         data-entry-class="Main"
         data-orientation="landscape"
         data-scale-mode="fixedWidth"
         data-frame-rate="30"
         data-content-width="640"
         data-content-height="1136"
         data-show-paint-rect="false"
         data-multi-fingered="2"
         data-show-fps="false" data-show-log="false"
         data-show-fps-style="x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.9">
    </div>
    
    <div id="vBox"
		 style="width: 100%;height: 100%;position: absolute;top:0;left:0;display:none;z-index: 99999;overflow: hidden;">
		<div id="vContent" style="width: 100%;height: 100%;position: absolute;top:0;left:0;overflow: hidden;">
			<video id="v1"  src="http://h5.sjzzimu.com/TencentVideo/Interview_1.mp4" 
                            playsinline 
                            webkit-playsinline 
                            preload="auto" 
                            width="1048" 
                            height="480"
				            x5-video-player-type="h5" 
                            x5-video-player-fullscreen="true"
                            style="position: absolute;top:0;left:0;object-fit: fill;z-index: -99;display: none">
            </video>

            <video id="v2"  src="http://h5.sjzzimu.com/TencentVideo/interview_2.mp4" 
                            playsinline 
                            webkit-playsinline 
                            preload="auto" 
                            width="1048" 
                            height="480"
				            x5-video-player-type="h5" 
                            x5-video-player-fullscreen="true"
                            poster="./resource/assets/interview_stop.png"
                            style="position: absolute;top:0;left:0;object-fit: fill;z-index: -99;display: none">
            </video>

            <video id="v3"  src="http://h5.sjzzimu.com/TencentVideo/recruit_1.mp4" 
                            playsinline 
                            webkit-playsinline 
                            preload="auto" 
                            width="1048" 
                            height="480"
				            x5-video-player-type="h5" 
                            x5-video-player-fullscreen="true"
                            style="position: absolute;top:0;left:0;object-fit: fill;z-index: -99;display: none">
            </video>

            <video id="v4"  src="http://h5.sjzzimu.com/TencentVideo/recruit_2.mp4" 
                            playsinline 
                            webkit-playsinline 
                            preload="auto" 
                            width="1048" 
                            height="480"
				            x5-video-player-type="h5" 
                            x5-video-player-fullscreen="true"
                            poster="./resource/assets/recruit_stop.png"
                            style="position: absolute;top:0;left:0;object-fit: fill;z-index: -99;display: none">
            </video>

            <video id="v5"  src="http://h5.sjzzimu.com/TencentVideo/swim_1.mp4" 
                            playsinline 
                            webkit-playsinline 
                            preload="auto" 
                            width="736" 
                            height="414"
				            x5-video-player-type="h5" 
                            x5-video-player-fullscreen="true"
                            style="transform: rotate(90deg);position: absolute;top:161px;left:-161px;object-fit: fill;z-index: -99;display: none">
            </video>

            <video id="v6"  src="http://h5.sjzzimu.com/TencentVideo/swim_2.mp4" 
                            playsinline 
                            webkit-playsinline 
                            preload="auto" 
                            width="1048" 
                            height="480"
				            x5-video-player-type="h5" 
                            x5-video-player-fullscreen="true"
                            poster="./resource/assets/swim_stop.png"
                            style="position: absolute;top:0;left:0;object-fit: fill;z-index: -99;display: none">
            </video>

            <div id="stop_btn" style="width: 30%;height: 22%;position: absolute;bottom: 10%;left:35%;display: block;display: none;">
                <img src="./resource/assets/stop_button.png" alt="" style="width: 100%;height: 100%;">
            </div>
		</div>

	</div>
    
<script>

    function resize(){
        var w = document.body.clientWidth;
        var h = document.body.clientHeight;
        var designW = 1048;
        var designH = 480;

        if(w < h){
            //竖屏
            $('#vContent > video').attr({ 'width': h, 'height': w })
            $("#vContent > video").css({
                "transform": "rotate(90deg)",
                "left": - (h - w) / 2,
                "top": (h - w) / 2,
            })
            $("#stop_btn").css({
                "left": w * 0.1 - (- w * 0.22 + h * 0.3) / 2,
                "bottom": h * 0.35 + (- w * 0.22 + h * 0.3) / 2,
                "width": h * 0.3,
                "height": w * 0.22,  
                "-webkit-transform": "rotate(90deg)",
            });
        }else{
            //横屏
            $('#vContent > video').attr({ 'width': w, 'height': h })
            $("#vContent > video").css({
                "transform": "rotate(0deg)",
                "left": - 0,
                "top": 0,

            })
            $("#stop_btn").css({
                "left": "35%",
                "bottom": "10%",
                "width": "30%",
                "height": "22%",
                "-webkit-transform": "rotate(0deg)",
            });
        }
    }

    $(document).ready(function(){
        resize();
        window.onresize = resize;
    });


   /*  function inti(bl) {
        var w = document.body.clientWidth;
        var h = document.body.clientHeight;
        var designW = 1048;
        var designH = 480;
        // var bl = w / h;
        if (designW / designH > bl) {
            // 按高度      
            var scale = h / designH;
            $("#vContent").css({
                "height": "100%",
                "width": designW * scale,
                "left": -(designW * scale - w) / 2
            });
        } else {
            // 按宽度
            var scale = w / designW;
            $("#vContent").css({
            "width": "100%",
            "height": designH * scale,
            "top": -(designH * scale - h) / 2
            });
        }
    } */

     function ss() {
        var m = document.getElementById('v1');
        var n = document.getElementById('vBox');
        n.style.display = "block";
        m.style.display = "block";
        m.play();
    }
    

    var loadScript = function (list, callback) {
        var loaded = 0;
        var loadNext = function () {
            loadSingleScript(list[loaded], function () {
                loaded++;
                if (loaded >= list.length) {
                    callback();
                }
                else {
                    loadNext();
                }
            })
        };
        loadNext();
    };
    
    var loadSingleScript = function (src, callback) {
        var s = document.createElement('script');
        s.async = false;
        s.src = src;
        s.addEventListener('load', function () {
            s.parentNode.removeChild(s);
            s.removeEventListener('load', arguments.callee, false);
            callback();
        }, false);
        document.body.appendChild(s);
    };

    var xhr = new XMLHttpRequest();
    xhr.open('GET', './manifest.json?v=' + Math.random(), true);
    xhr.addEventListener("load", function () {
        var manifest = JSON.parse(xhr.response);
        var list = manifest.initial.concat(manifest.game);
        loadScript(list, function () {
            /**
             * {
             * "renderMode":, //Engine rendering mode, "canvas" or "webgl"
             * "audioType": 0 //Use the audio type, 0: default, 2: web audio, 3: audio
             * "antialias": //Whether the anti-aliasing is enabled in WebGL mode, true: on, false: off, defaults to false
             * "retina": //Whether the canvas is based on the devicePixelRatio
             * }
             **/
            egret.runEgret({ renderMode: "webgl", audioType: 0 });
        });
    });
    xhr.send(null);
    
    document.getElementById("vBox").addEventListener("touchstart", function (e) {
        e.preventDefault();
    }, true);
    
    
   
    
    
</script>
</body>

</html>